{"version":3,"file":"index.es.js","sources":["../src/crc32.js","../src/toArray.js","../src/toBlob.js","../src/toBuffer.js","../src/toAuto.js"],"sourcesContent":["const table = [];\nfor (let n = 0; n < 256; n++) {\n\tlet c = n;\n\tfor (let k = 0; k < 8; k++) {\n\t\tc = c & 1 ? 0xEDB88320 ^ (c >>> 1) : c >>> 1;\n\t}\n\ttable[n] = c;\n}\n\nexport default bytes => {\n\tlet sum = -1;\n\tfor (const byte of bytes) {\n\t\tsum = (sum >>> 8) ^ table[(sum ^ byte) & 0xFF];\n\t}\n\treturn sum ^ -1;\n};\n","import crc32 from './crc32.js';\n\nconst int = (n, length) => {\n\tconst out = [];\n\twhile (length--) {\n\t\tout.push(n & 0xFF);\n\t\tn >>>= 8;\n\t}\n\treturn out;\n};\n\nconst toBytes = data => typeof data === 'string' ? [...data].map(char => char.charCodeAt(0)) : data;\n\nexport default files => {\n\tlet fileData = [];\n\tconst centralDirectory = [];\n\tfor (const { path, data } of files) {\n\t\tconst dataBytes = toBytes(data);\n\t\tconst pathBytes = toBytes(path);\n\t\tconst commonHeader = [0x0A, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, ...int(crc32(dataBytes), 4), ...int(dataBytes.length, 4), ...int(dataBytes.length, 4), ...int(pathBytes.length, 2), 0x00, 0x00];\n\t\tcentralDirectory.push(0x50, 0x4B, 0x01, 0x02, 0x14, 0x00, ...commonHeader, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, ...int(fileData.length, 4), ...pathBytes);\n\t\tfileData = [...fileData, 0x50, 0x4B, 0x03, 0x04, ...commonHeader, ...pathBytes, ...dataBytes];\n\t}\n\treturn [...fileData, ...centralDirectory, 0x50, 0x4B, 0x05, 0x06, 0x00, 0x00, 0x00, 0x00, ...int(files.length, 2), ...int(files.length, 2), ...int(centralDirectory.length, 4), ...int(fileData.length, 4), 0x00, 0x00];\n};\n","import toArray from './toArray.js';\n\nexport default files => new Blob([Uint8Array.from(toArray(files))], { type: 'application/zip' });\n","import toArray from './toArray.js';\n\nexport default files => Buffer.from(toArray(files));\n","import toBlob from './toBlob.js';\nimport toBuffer from './toBuffer.js';\nexport default files => (typeof Blob === 'undefined' ? toBuffer : toBlob)(files);\n"],"names":[],"mappings":"AAAA,MAAM,KAAK,GAAG,EAAE,CAAC;AACjB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;CAC7B,IAAI,CAAC,GAAG,CAAC,CAAC;CACV,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;EAC3B,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,UAAU,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;EAC7C;CACD,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;CACb;;AAED,YAAe,KAAK,IAAI;CACvB,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC;CACb,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE;EACzB,GAAG,GAAG,CAAC,GAAG,KAAK,CAAC,IAAI,KAAK,CAAC,CAAC,GAAG,GAAG,IAAI,IAAI,IAAI,CAAC,CAAC;EAC/C;CACD,OAAO,GAAG,GAAG,CAAC,CAAC,CAAC;CAChB,CAAC;;ACbF,MAAM,GAAG,GAAG,CAAC,CAAC,EAAE,MAAM,KAAK;CAC1B,MAAM,GAAG,GAAG,EAAE,CAAC;CACf,OAAO,MAAM,EAAE,EAAE;EAChB,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;EACnB,CAAC,MAAM,CAAC,CAAC;EACT;CACD,OAAO,GAAG,CAAC;CACX,CAAC;;AAEF,MAAM,OAAO,GAAG,IAAI,IAAI,OAAO,IAAI,KAAK,QAAQ,GAAG,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;;AAEpG,cAAe,KAAK,IAAI;CACvB,IAAI,QAAQ,GAAG,EAAE,CAAC;CAClB,MAAM,gBAAgB,GAAG,EAAE,CAAC;CAC5B,KAAK,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,KAAK,EAAE;EACnC,MAAM,SAAS,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;EAChC,MAAM,SAAS,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;EAChC,MAAM,YAAY,GAAG,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,GAAG,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,CAAC,EAAE,GAAG,GAAG,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,CAAC,EAAE,GAAG,GAAG,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;EAClN,gBAAgB,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,YAAY,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,GAAG,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC,EAAE,GAAG,SAAS,CAAC,CAAC;EACjL,QAAQ,GAAG,CAAC,GAAG,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,YAAY,EAAE,GAAG,SAAS,EAAE,GAAG,SAAS,CAAC,CAAC;EAC9F;CACD,OAAO,CAAC,GAAG,QAAQ,EAAE,GAAG,gBAAgB,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,GAAG,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,EAAE,GAAG,GAAG,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,EAAE,GAAG,GAAG,CAAC,gBAAgB,CAAC,MAAM,EAAE,CAAC,CAAC,EAAE,GAAG,GAAG,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;CACxN,CAAC;;ACtBF,aAAe,KAAK,IAAI,IAAI,IAAI,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,iBAAiB,EAAE,CAAC,CAAC;;ACAjG,eAAe,KAAK,IAAI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;;ACApD,aAAe,KAAK,IAAI,CAAC,OAAO,IAAI,KAAK,WAAW,GAAG,QAAQ,GAAG,MAAM,EAAE,KAAK,CAAC,CAAC;;;;"}